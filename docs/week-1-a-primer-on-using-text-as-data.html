<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Week 1: A Primer on Using Text as Data | PS9594A: Computational Text Analysis</title>
<meta name="author" content="Dr. Sebastián Vallejo Vera | Western University">
<meta name="description" content="2.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies of word-length distribution. First we load the packages that we’ll be using:...">
<meta name="generator" content="bookdown 0.37 with bs4_book()">
<meta property="og:title" content="Chapter 2 Week 1: A Primer on Using Text as Data | PS9594A: Computational Text Analysis">
<meta property="og:type" content="book">
<meta property="og:description" content="2.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies of word-length distribution. First we load the packages that we’ll be using:...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Week 1: A Primer on Using Text as Data | PS9594A: Computational Text Analysis">
<meta name="twitter:description" content="2.1 Setup For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies of word-length distribution. First we load the packages that we’ll be using:...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PS9594A: Computational Text Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled"><li><a class="" href="index.html"><span class="header-section-number">Chapter 2</span> Week 1: A Primer on Using Text as Data</a></li></ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/svallejovera/cpa_uwo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="week-1-a-primer-on-using-text-as-data" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Week 1: A Primer on Using Text as Data<a class="anchor" aria-label="anchor" href="#week-1-a-primer-on-using-text-as-data"><i class="fas fa-link"></i></a>
</h1>
<div id="setup" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Setup<a class="anchor" aria-label="anchor" href="#setup"><i class="fas fa-link"></i></a>
</h2>
<p>For this first example, we will replicate (and extend) Mendenhall’s (1887) and Mendenhall’s (1901) studies of word-length distribution.</p>
<p>First we load the packages that we’ll be using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># for wrangling data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/elbersb/tidylog/">tidylog</a></span><span class="op">)</span> <span class="co"># to know what we are wrangling</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/juliasilge/tidytext">tidytext</a></span><span class="op">)</span> <span class="co"># for 'tidy' manipulation of text data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/karthik/wesanderson">wesanderson</a></span><span class="op">)</span> <span class="co"># to prettify</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/gutenbergr/">gutenbergr</a></span><span class="op">)</span> <span class="co"># to get some books</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span> <span class="co"># for displaying data in html format (relevant for formatting this worksheet mainly)</span></span></code></pre></div>
</div>
<div id="get-data" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Get Data<a class="anchor" aria-label="anchor" href="#get-data"><i class="fas fa-link"></i></a>
</h2>
<p>Mendenhall (1887) argued that “every writer makes use of a vocabulary which is peculiar to himself, and the character of which does not materially change from year to
year during his productive,” and that one of these characteristics was the length of words. Mendenhall (1901) takes this further, and suggests that, given this assumption, Shakespeare and Bacon were <em>not</em> the same person[^1].</p>
<p>Let’s get a corpus–a collection of documents–that we can analyze. We can search the Gutenberg repository and create a corpus with some selected work.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gutenberg_metadata</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">author</span> <span class="op">==</span> <span class="st">"Wilde, Oscar"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 66 × 8
##    gutenberg_id title    author gutenberg_author_id language gutenberg_bookshelf
##           &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;              
##  1          174 The Pic… Wilde…                 111 en       "Gothic Fiction/Mo…
##  2          301 The Bal… Wilde…                 111 en       ""                 
##  3          773 Lord Ar… Wilde…                 111 en       "Contemporary Revi…
##  4          774 Essays … Wilde…                 111 en       ""                 
##  5          790 Lady Wi… Wilde…                 111 en       ""                 
##  6          844 The Imp… Wilde…                 111 en       "Plays"            
##  7          854 A Woman… Wilde…                 111 en       "Plays"            
##  8          873 A House… Wilde…                 111 en       "Opera"            
##  9          875 The Duc… Wilde…                 111 en       ""                 
## 10          885 An Idea… Wilde…                 111 en       "Plays"            
## # ℹ 56 more rows
## # ℹ 2 more variables: rights &lt;chr&gt;, has_text &lt;lgl&gt;</code></pre>
<p>That’s a lot of Wilde! Let’s focus on two plays: “The Importance of Being Earnest” and “A Woman of No Importance”. We can download both of these plays using their ID number:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/gutenbergr/reference/gutenberg_download.html">gutenberg_download</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">844</span>, <span class="fl">854</span><span class="op">)</span>, </span>
<span>                            meta_fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"title"</span>,<span class="st">"author"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">25</span>,<span class="va">wilde</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 25 × 4
##    gutenberg_id text                                                title author
##           &lt;int&gt; &lt;chr&gt;                                               &lt;chr&gt; &lt;chr&gt; 
##  1          844 "SCENE"                                             The … Wilde…
##  2          844 ""                                                  The … Wilde…
##  3          844 "Morning-room in Algernon’s flat in Half-Moon Stre… The … Wilde…
##  4          844 "luxuriously and artistically furnished. The sound… The … Wilde…
##  5          844 "in the adjoining room."                            The … Wilde…
##  6          844 ""                                                  The … Wilde…
##  7          844 "[Lane is arranging afternoon tea on the table, an… The … Wilde…
##  8          844 "ceased, Algernon enters.]"                         The … Wilde…
##  9          844 ""                                                  The … Wilde…
## 10          844 "ALGERNON."                                         The … Wilde…
## 11          844 "Did you hear what I was playing, Lane?"            The … Wilde…
## 12          844 ""                                                  The … Wilde…
## 13          844 "LANE."                                             The … Wilde…
## 14          844 "I didn’t think it polite to listen, sir."          The … Wilde…
## 15          844 ""                                                  The … Wilde…
## 16          844 "ALGERNON."                                         The … Wilde…
## 17          844 "I’m sorry for that, for your sake. I don’t play a… The … Wilde…
## 18          844 "play accurately—but I play with wonderful express… The … Wilde…
## 19          844 "piano is concerned, sentiment is my forte. I keep… The … Wilde…
## 20          844 ""                                                  The … Wilde…
## 21          844 "LANE."                                             The … Wilde…
## 22          844 "Yes, sir."                                         The … Wilde…
## 23          844 ""                                                  The … Wilde…
## 24          844 "ALGERNON."                                         The … Wilde…
## 25          844 "And, speaking of the science of Life, have you go… The … Wilde…</code></pre>
<p>The unit of analysis is something like a line. We are interested in each word–also known as tokens–and their lengths. We will clean some of the unwanted text–text that will only add noise to our analysis–and then count the number of words.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde</span> <span class="op">&lt;-</span> <span class="va">wilde</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Filter out all empty rows</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">text</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># This is a play. The name of each character before they speak </span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">text</span>,<span class="st">"[A-Z]{3,}"</span><span class="op">)</span><span class="op">==</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code>## filter: removed 1,984 rows (28%), 5,174 rows remaining</code></pre>
<pre><code>## filter: removed 1,930 rows (37%), 3,244 rows remaining</code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">25</span>,<span class="va">wilde</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">51</span><span class="op">:</span><span class="fl">75</span><span class="op">)</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 25 × 4
##    gutenberg_id text                                                title author
##           &lt;int&gt; &lt;chr&gt;                                               &lt;chr&gt; &lt;chr&gt; 
##  1          844 once. That was in consequence of a misunderstandin… The … Wilde…
##  2          844 a young person.                                     The … Wilde…
##  3          844 [Languidly_._] I don’t know that I am much interes… The … Wilde…
##  4          844 life, Lane.                                         The … Wilde…
##  5          844 No, sir; it is not a very interesting subject. I n… The … Wilde…
##  6          844 myself.                                             The … Wilde…
##  7          844 Very natural, I am sure. That will do, Lane, thank… The … Wilde…
##  8          844 Thank you, sir. [Lane goes out.]                    The … Wilde…
##  9          844 Lane’s views on marriage seem somewhat lax. Really… The … Wilde…
## 10          844 don’t set us a good example, what on earth is the … The … Wilde…
## 11          844 seem, as a class, to have absolutely no sense of m… The … Wilde…
## 12          844 [Enter Lane.]                                       The … Wilde…
## 13          844 Mr. Ernest Worthing.                                The … Wilde…
## 14          844 [Enter Jack.]                                       The … Wilde…
## 15          844 [Lane goes out_._]                                  The … Wilde…
## 16          844 How are you, my dear Ernest? What brings you up to… The … Wilde…
## 17          844 Oh, pleasure, pleasure! What else should bring one… The … Wilde…
## 18          844 usual, I see, Algy!                                 The … Wilde…
## 19          844 [Stiffly_._] I believe it is customary in good soc… The … Wilde…
## 20          844 slight refreshment at five o’clock. Where have you… The … Wilde…
## 21          844 Thursday?                                           The … Wilde…
## 22          844 [Sitting down on the sofa.] In the country.         The … Wilde…
## 23          844 What on earth do you do there?                      The … Wilde…
## 24          844 [Pulling off his gloves_._] When one is in town on… The … Wilde…
## 25          844 When one is in the country one amuses other people… The … Wilde…</code></pre>
<p>Now, we can change our unit of analysis to the <strong>token</strong>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words</span> <span class="op">&lt;-</span> <span class="va">wilde</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># take the column text and divide it by words</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tidytext/man/unnest_tokens.html">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">text</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wilde_words</span></span></code></pre></div>
<pre><code>## # A tibble: 31,979 × 4
##    gutenberg_id title                                               author word 
##           &lt;int&gt; &lt;chr&gt;                                               &lt;chr&gt;  &lt;chr&gt;
##  1          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… the  
##  2          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… impo…
##  3          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… of   
##  4          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… being
##  5          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… earn…
##  6          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… a    
##  7          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… triv…
##  8          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… come…
##  9          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… for  
## 10          844 The Importance of Being Earnest: A Trivial Comedy … Wilde… seri…
## # ℹ 31,969 more rows</code></pre>
<p>That’s a lot of words! We will know create a column for word length, and then count the number of words by length (by play!).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words_ct</span> <span class="op">&lt;-</span> <span class="va">wilde_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Length of each word</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>word_length <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Group by word_length and count how many </span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_word_length <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Keep relevant</span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,.keep_all<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,<span class="va">author</span>,<span class="va">total_word_length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## mutate: new variable 'word_length' (integer) with 16 unique values and 0% NA</code></pre>
<pre><code>## group_by: 2 grouping variables (word_length, title)</code></pre>
<pre><code>## mutate (grouped): new variable 'total_word_length' (integer) with 31 unique values and 0% NA</code></pre>
<pre><code>## distinct (grouped): removed 31,948 rows (&gt;99%), 31 rows remaining</code></pre>
<pre><code>## select: dropped 2 variables (gutenberg_id, word)</code></pre>
<p>Let’s see the distribution by play:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words_ct</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">total_word_length</span>,x<span class="op">=</span><span class="va">word_length</span>,color<span class="op">=</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/wesanderson/man/wes_palette.html">wes_palette</a></span><span class="op">(</span><span class="st">"Royal2"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Length"</span>, y <span class="op">=</span> <span class="st">"Total Number of Words"</span>, color <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p>This is a problem. <em>Why?</em></p>
<p>Here is a solution (proposed by Mendenhall):</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wilde_words</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n<span class="op">=</span><span class="fl">10000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>word_length <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>total_word_length <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">distinct</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,.keep_all<span class="op">=</span><span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">word_length</span>,<span class="va">title</span>,<span class="va">author</span>,<span class="va">total_word_length</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">total_word_length</span>,x<span class="op">=</span><span class="va">word_length</span>,color<span class="op">=</span><span class="va">title</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/wesanderson/man/wes_palette.html">wes_palette</a></span><span class="op">(</span><span class="st">"Royal2"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Length"</span>, y <span class="op">=</span> <span class="st">"Total Number of Words"</span>, color <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<pre><code>## group_by: one grouping variable (title)</code></pre>
<pre><code>## slice_sample (grouped): removed 11,979 rows (37%), 20,000 rows remaining</code></pre>
<pre><code>## mutate (grouped): new variable 'word_length' (integer) with 16 unique values and 0% NA</code></pre>
<pre><code>## group_by: 2 grouping variables (word_length, title)</code></pre>
<pre><code>## mutate (grouped): new variable 'total_word_length' (integer) with 31 unique values and 0% NA</code></pre>
<pre><code>## distinct (grouped): removed 19,969 rows (&gt;99%), 31 rows remaining</code></pre>
<pre><code>## select: dropped 2 variables (gutenberg_id, word)</code></pre>
<div class="inline-figure">
<img src="main_files/figure-html/unnamed-chunk-8-1.png" width="672">
[^1] These studies were published in Science and Popular Science Monthly!</div>

</div>
</div>
  <div class="chapter-nav">
<div class="empty"></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PS9594A: Computational Text Analysis</strong>" was written by Dr. Sebastián Vallejo Vera | Western University. It was last built on 2023-12-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
